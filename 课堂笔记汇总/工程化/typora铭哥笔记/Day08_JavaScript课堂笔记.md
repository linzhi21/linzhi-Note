# Day08 JavaScript 课堂案例

## 1 回顾

```
1. Object 对象
2. 声明 Object 对象
   直接量
   Object 函数
   Object 构造函数
3. 读写对象的属性
4. 遍历对象的属性 for in
5. 删除对象的属性 delete
6. 判断对象中是否存在某个属性 in
```



## 2 构造函数

### 2.1 什么是构造函数？

```
1. 构造用于构造对象，相当于其他编程语言的类
2. 构造函数等价于数据类型，相同类型的数据构造函数是一致的
```

### 2.2 构造函数和对象的关系

```
1. 对象是构造函数的实例，构造函数是对象的抽象（描述）。
1. 一个构造函数对应多个对象，一个对象只能有一个构造函数。
```

### 2.3 判断对象的构造函数

#### ① 运算符 instanceof

运算符组成的表达式的值是布尔值，如果指定的对象是指定的构造函数的实例，值是 true，否则是 false。

```js
对象 instanceof 构造函数;
```

#### ② constructor 属性

每个对象都有 constructor 属性，该属性可以得到改对象的构造函数

```js
对象.constructor;
对象['constructor'];
```

### 2.4 自定义构造函数

```js
// 自定义构造函数
function User(name, age, address) {
    // 给构造函数的实例设置属性
    this.name = name;
    this.age = age;
    this.address = address;

    // 给构造函数的实例设置方法（属性值是function类型的属性）
    // 添加购物车
    this.addShopcart = function(product) {
        console.log(this.name + '将商品' + product + '加入购物车！');
    };

    // 支付功能
    this.pay = function() {
        console.log(this.name + '支付了');
    }
}
```

```
1. 当实例化构造函数的时候，构造函数中的代码会执行；没实例化一次，里面的代码就执行一次
2. 构造函数中的 this 表示所创建的实例。
3. 构造函数中的 return
   ① 构造函数中没有 return 或者return 的是原始类型数据，对实例化的结果没有影响，实例化的结果是创建的实例
   ② 构造函数中 return 的是对象类型的数据，实例化的结果就是 return 的值。
```

### 2.5 实例化

```
1. 根据构造函数创建对象的过程称为实例化
2. 实例化会使用 new 关键字
```

```js
new 构造函数();   // 实例化，得到一个对象
new 构造函数;	  // 不需要参数，可以省略构造函数后面的小括号
```

### 2.6 构造函数和函数

```
1. 一个函数如果被调用就是作为函数使用，如果被实例化就是被作为构造函数使用
2. 作为构造函数与作为函数，return 规则不同。
3. 作为构造函数与作为函数，里面 this 的取值不同。
```

### 2.7 原始类型数据的对象特性

```
1. 原始类型数据中的 number、string、boolean。既有原始状态，又有对象状态，可以在两种状态键自由切换。
2. 作为原始值取使用，会切换到原始状态；如果作为对象取使用，切换到对象状态。
3. 直接量、Number调用的返回值创建的数字默认是原始状态；new Number()创建的数字默认是对象状态。
```

```
如何从原始状态转为对象状态
① 临时 new Number() 得到对象
② 属性加到临时对象上
③ 用完了临时对象销毁
```





## 3 this

### 3.1 this 的含义

```
1. this 是系统定义的变量
2. this 可以在函数（或方法）中使用
```

### 3.2 this 的指向（取值）

```
1. 作为构造函数：
   this 的值是构造函数的实例

2. 作为函数（方法）
   this 的值是调用该函数（方法）的对象
```

```
注意： 1. 前面没有 对象. 的函数调用，都是 window 调用的。
      2. this 取值只与该函数是谁调用有关系，与函数在哪里声明没有关系。
```

### 3.3 window 介绍

```
1. 在页面打开的时候，浏览器自动创建 window
2. 在浏览器上运行的 js，window 表示全局对象
3. 所有的全局变量都是window的属性，使用window的属性和方法可以省略 window.
```









## 4 原型

### 4.1 原型的概念

### 4.2 如何获取对象的原型

### 4.3 对象、构造函数、原型之间的关系

#### ① 对象和构造函数

#### ② 对象和原型

#### ③ 构造函数和原型

### 4.4 自定义构造函数时原型的应用

### 4.5 判断属性是否属于对象本身

### 4.6 创建对象的同时指定原型

### 4.7 注意







