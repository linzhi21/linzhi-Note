# Day20 正则表达式

## 回顾

```
1. 原型链
2. JS 对象的继承
3. 单线程和事件轮询
   3.1 进程和线程
   3.2 JS是单线程执行
   3.3 同步和异步任务
   3.4 事件轮询机制
```





## 1 正则表达式概述

```
1. 什么是正则表达式
   正则表达式用于对字符串进行匹配、检索、替换，是对字符串执行模式匹配的强大工具。对字符串进行模式匹配也是正则表达式唯一的作用。

2. 正则表达式的应用
   验证用户名、邮箱、电话号码、邮编等是否正确
   富文本编辑器、聊天工具的表情
   爬虫程序、内容采集器
   前端框架中的路由
   ...

3. 如何学习正则表达式
   第一步：掌握正则表达式的基本语法，能够写出正则表达式。
   第二步：掌握如何在编程语言中使用正则表达式。

```



## 2 正则表达式基本语法

### 2.1 原子

一个原子匹配一个字符。

#### ① 具体字符匹配

原子什么样就匹配什么样的字符。

```
1. 数字、字母、标点符号、中文都是原子
2. \n		匹配换行
3. \f		分页符
4. \t		制表符
5. \v		垂直制表符
6. \uXXXX	匹配unicode编码对应的字符
```

#### ② 字符类

```
[abc]		匹配一个字符，该字符可以是a、b或者c
[^abc]		匹配一个字符，该字符不能是 a、b或者c
[a-w]		匹配一个字符，该字符可以是a-w中的任意字符
[^a-w]		匹配一个字符，该字符不能是a-w中的任意字符
[a-z0-9A-Z] 匹配一个字符，该字符可以是数字或者字母

\w			匹配一个数字、字母、下划线， 相当于 [a-zA-Z0-9_]
\W			匹配一个不能是数字、字母、下划线的字符，相当于 [^a-zA-Z0-9_]
\d			匹配一个数字，相当于 [0-9]
\D			匹配一个除了数字的字符，相当于 [^0-9]
\s			匹配一个空白字符，相当于 [\n\f\t\v ]
\S			匹配一个除了空白字符之外的字符， 相当于 [^\n\f\t\v ] 
.			匹配除了换行之外的所有字符，相当于 [^\n]
```

#### ③ 正则表达式中具有特殊意义的符号

如果要匹配的字符是在正则中具有特殊意义的符号，可以使用反斜杠`\`来转义，例如：`\.` 匹配字符串`.`    

### 2.2 数量修饰符

数量修饰符写在原子的后面，修饰的是前面的原子，

```
{n}			原子连续出现n次
{n,m}		原子连续出现n次或者m次
{n,}		原子连续出现n次或以上
?			原子出现0次或1次，相当于 {0,1}
+			原子连续出现1次或多次，相当于 {1,}
*			原子连续出现0次、1次或多次，相当于 {0,}
```

默认会尽可能多的匹配，故称之为**贪婪匹配。**

数量修饰符后面加`?`可以阻止贪婪匹配。注意：? 具有两层含义，放在原子的后面表示数量修饰，放在数量修饰符的后面表示阻止贪婪匹配。

### 2.3 位置修饰符

```
\b			表示单词边界
\B			表示非单词边界
^			字符串开始
$ 			字符串结束
\A			等同于 ^
\Z			等同于 $
```

### 2.4 选择修饰符

`|` 类似于逻辑或，正则表达式所有修饰符中优先级最低

```
a|b         // 匹配a或者b                        
abc|def     // 匹配abc  或者def  字符串的结合优先级高于选择    
```

### 2.5 模式单元

正则表达式中，括号里的部分就构成了一个模式单元。

**模式单元的作用：**

```
1. 改变优先级。
2. 将多个原子视为一个整体。
3. 暂存内存 将匹配的内容捕获暂存在内存，/(?:abc)/ 用问号冒号，可以取消暂存内存的特性。
4. 反向引用 可以将模式单元的内容反向引用。使用$1、$2可以反向引用， $1会引用第一个模式单元匹配的内容。
```

### 2.6 模式修饰符

模式修饰符修饰的是整个表达式，模式修饰符写在`/` 的后面

```
g		全局匹配
i		不区分大小写
m		多行模式，在该模式下，换行可以作为字符串的边界
```







## 3 JavaScript 中使用正则表达式

### 3.1 RegExp 对象

```
exec()		参数是字符串，返回数组，数组中有匹配到的内容以及内容的位置，还包括模式单元匹配到的内容
test()		参数是字符串，返回布尔值，匹配成功返回true，匹配不成功返回false
```

### 3.2 String 对象

```
match()		参数是正则，返回数组，数组中有匹配到的内容以及内容的位置，还包括模式单元匹配到的内容
replace()   第一个参数是就内容，第二个参数是新内容； 第一个参数可以是字符串也可以是正则，返回替换好的字符串
search()	参数是正则，返回成功匹配的内容在字符串中第一次出现的位置，如果无法成功匹配，返回 -1
split()		将字符串分割为数组，参数是字符串或者正则，返回数组
```







