# Day06 JavaScript 课堂笔记

## 1 回顾 数组

```
1. 声明创建数组
2. 读写数组的元素
3. 稀疏数组
4. 遍历数组 
5. 添加元素
   数组[数组.length] = 新元素
   push()
   unshift()
   splice()
6. 删除元素
   数组.length -= n;
   pop()
   shift()
   splice()
7. 多维数组
8. 字符串的数组特性 类数组、伪数组
```



## 2 函数

### 2.1 函数概述

#### ① 什么是函数

```
1. 函数是具有特定功能的代码块
2. 函数是 javaScript 中一种数据类型，属于对象类型，使用 typeof 判断得到 function
```

#### ② 函数的作用

```
1. 提高代码的重用性
2. 利用函数实现编程的模块化
```

#### ③ 函数的组成

**函数名： ** 如果一个变量的值是函数，该变量被称为函数名。

**函数体：** 函数内部的代码块。

**参数：** 调用函数的时候，通过参数向函数内部传递数据。

**返回值：** 函数调用得到的结果。一般作为函数体重代码块的计算结果。

### 2.2 声明函数的三种方式

#### ① function 关键字方式

```js
function 函数名(参数...) {
    函数体语句...;
}
```

#### ② 表达式方式

```js
var 函数名 = function(参数...) {
    函数体语句...;
}
```

#### ③ Function 函数方式（了解）

````js
var 函数名 = Function();
````

#### ④ Function 构造函数方式（了解）

```js
var 函数名 = new Function();
```

### 2.3 函数的调用和返回值

#### ① 函数调用

```
1. 在函数后面加 （） 可以调用函数， 
2. 函数只有被调用了，函数体语句才会执行。函数可以被多次调用，没调用一次，函数体语句就执行一次。
3. 函数只有被调用了才能获取到函数的返回值。
```

#### ② 返回值

```
1. 函数调用的结果就是返回
   函数调用表达式的值就是函数的返回值
   通过函数调用表达式可以获取到函数的返回值
2. 在函数体中，使用 return 关键字可以设置函数的返回值
   return 的右边写表达式，表达式的值就是函数的返回值
3. 如果函数体中没有return，或者return的右边是空的，该函数没有返回值
   函数调用的时候自动得到 undefined
4. 函数体中，一旦执行到 return ，该函数调用结束，return下面的代码将不再执行。
```

### 2.4 函数的参数

#### ① 形参和实参

**形参：** 在声明函数的时候设置的参数就是形参，形参本质上是没有赋值的变量，只能在函数内使用。

**实参：** 在调用函数时使用的参数就是实参，实参用于给形参赋值，形式可以是变量、直接量、表达式。

#### ② 形参和实参的数量问题

```
1. 实参的个数应与形参个数一致
2. 如果实参个数大于形参个数，实参按照顺序给形参赋值，多余的实参没有用
3. 如果实参个数小于形参个数，实参按照顺序给形参赋值，后面的形参会没有被赋值，自动得到 undefined
```

#### ③ 形参的默认值（可选参数）

```
1. 可以给形参设置默认值，有默认值的参数称为可选参数
2. 有默认值的参数一定要放在后面
```

**ES5 设置形参默认值的方式：**

```js
function 函数名(参数1，参数2) {
    if (参数2 === undefiend) {
        参数2 = 默认值;
    }
}
```

**ES6 设置形参默认值的方式：**

```js
function 函数名(参数1,参数2=默认值) {
    
}
```

#### ④ arguments

```
1. arguments 是系统创建的变量，在调用函数执行函数体语句的时候创建，只能在函数内使用。
2. arguments 是伪数组，成员是调用函数是的所有实参，具有length属性，可以通过索引获取到其中的成员。
3. arguments 是除了形参之外另一种获取实参的方式，不受到数量限制，用于定义可变参数数量的函数。
```

### 2.5 作用域

#### ① 变量的作用域

```
1. 变量的作用域指的是变量的作用范围
2. 如果变量作用范围是全局的，这样的变量称为全局变量
   在函数外面声明的变量就全局变量
3. 如果变量作用范围仅限于某个函数，这样的变量称为局部变量
   在函数中声明的变量就是局部变量
```

```
1. 形参和arguments 都是局部变量
2. 如果在函数中声明变量，没有加 var，该变量是全局变量（强烈不建议这么用，在严格模式下会报错）
```

#### ② 作用域链

**作用域链式如何产生的？**

```
函数内也可以声明函数，形成嵌套关系，有了上层作用域和下层作用域，形成了作用域链
```

**作用域链描述变量查找的过程：**

```
1. 当使用变量的时候，会先看变量有无定义
2. 先从本作用域中查找，如果找到就直接使用，如果本作用域中找不到，去上层作用域查找
3. 如果找到就是用，如果还没找到就继续向上层作用域查找，一直到全局作用域
4. 如果到全局作用域仍然没有找该变量，报错
```

**从定义变量的角度看作用域链：**

```
变量只能在本作用域或下层作用域使用，不能在上层作用域使用。
```

**<font color="red">变量的作用域，只与函数声明的位置有关，与函数调用的位置无关！</font>**

### 2.6 变量提升

#### ① 变量提升

```
1. 代码正式执行之前，会进行变量提升。
2. 只有使用 var 关键字声明的变量才会提升。
3. 变量提升只提升声明，不提升赋值；所有在声明语句之前使用变量，得到 undefined； 正式执行到声明语句的时候，再进行赋值。
4. 变量提升提升到所在所用域的最前面
```

#### ② 函数提升

```
1. 代码正式执行之前，会进行函数提升。
2. 表达式方式、Function 构造函数方式 声明的函数，提升规则与变量提升一样的
3. function 关键字形式声明的函数； 声明加赋值一起提升； 在函数声明语句之前可以调用函数，正式执行到函数声明语句直接跳过。
4. 函数提升提升到所在所用域的最前面。
```

### 2.7 匿名函数

```
1. 匿名函数就是函数的直接量
2. 匿名函数可以用于IIFE或者回调函数
```

```js
// 数组的直接量
[10,20,30,40];
// 匿名函数就是函数的直接量形式
(function() {
    console.log('我是一个没有名字的函数');
});

// 表达式方式声明函数
// 将匿名函数（函数直接量）赋值给变量 fn
var fn = function() {
    console.log('我是函数！');
};
// 将number直接量赋值给变量 n
var n = 100;
```

### 2.8 自调用函数 （IIFE 立即执行的函数）

```
1. IIFE 声明完函数立即调用，通常使用匿名函数
2. IIFE 用于产生作用域，避免全局变量污染
```





## 作业

```
1. 定义函数 max，实现取出参数中值最大的，要求参数都是 number
2. 定义函数 min，实现取出参数中值最小的，要求参数都是 number
3. 定义函数 avg，实现计算所有参数平均值， 要求参数都是 number
4.（选做） 封装函数，进行数组排序，参数一要排序的数组，参数二是布尔值，true:从大到小，false：从小到大；参数二默认值是 false。  返回值是排好序的数组
```













