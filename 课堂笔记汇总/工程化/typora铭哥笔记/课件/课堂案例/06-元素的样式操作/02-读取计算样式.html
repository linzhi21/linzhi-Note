<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #box {
            width: 600px;
            padding: 20px;
        }
        div {
            height: 400px;
            width: 1000px;
            background-color: #f00;
        }
    </style>
</head>
<body>
    <h1>读取元素的计算样式</h1>
    <hr>
    <button id="btn01">读取计算样式</button>
    <button id="btn02">读取计算样式(兼容性)</button>
    <br>
    <br>
    <br>
    <div id="box" style="border: 3px dashed #099; background-color: #ccc">
        禀不我有语俭生两，服定自仑过宫是梵得人其极谢家要薪卅诗，鼓程第是，一锐之，关是不，老太没前四德是生我极用后井重卡亡心倒，承王都德，胸韩我量下，非极足临郭的流同人屯心洪后且秦竟为，我没尝是郭甲廿情吴王者训名赠收太锐，彷人天极与则拢胜一者得，到之关办太，同俭。
    </div>

    <script>
        // 获取元素
        var box = document.querySelector('#box');
        var btn01 = document.querySelector('#btn01');
        var btn02 = document.querySelector('#btn02');
      
        // 点击按钮 读取计算样式
        btn01.onclick = function() {
            var computedStyle = window.getComputedStyle(box);
            // console.log(computedStyle);
            console.log('背景颜色：', computedStyle.backgroundColor);
            console.log('宽度width：', computedStyle.width);
            console.log('高度height：', computedStyle.height);
            console.log('font-size：', computedStyle.fontSize);

            console.log(getComputedStyle(box).border);
            console.log(getComputedStyle(box)['border']);
        };


        // 点击获取计算样式 使用兼容性写法
        btn02.onclick = function() {
            console.log(getStyle(box, 'background-color'))
            console.log(getStyle(box, 'width'))
        }



        /***
         * 获取到指定的计算样式
         * @params element 要获取样式的元素
         * @params attrname CSS 属性名
         * @return CSS属性值
         */
         function getStyle(ele, attrname) {
             if (window.getComputedStyle) {
                 return window.getComputedStyle(ele)[attrname];
             } else if (ele.currentStyle) {
                 return ele.currentStyle[attrname];
             } else {
                 return null;
             }
         } 
      
    </script>
</body>
</html>